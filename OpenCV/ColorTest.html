<html>
<head>
<meta charset="utf-8">
<title>Color Test</title>
<script>
var cvs, ctx;
var cR=0, cG=0, cB=0, cA; //　色の値（16進）
var aR=0, aG=0, aB=0;     //　色の値（10進）

function init() {
	cvs = document.getElementById('c');
	ctx = cvs.getContext('2d');
	document.fm.ar.value = 0;
	document.fm.ag.value = 0;
	document.fm.ab.value = 0;
	cchange1();
}

function cchange1() {
	cR = parseInt(document.fm.cr.value / 100 * 255);
	cG = parseInt(document.fm.cg.value / 100 * 255);
	cB = parseInt(document.fm.cb.value / 100 * 255);
	aR = cR;
	aG = cG;
	aB = cB;
	document.fm.ar.value = aR;
	document.fm.ag.value = aG;
	document.fm.ab.value = aB;
	cchange0();
}

function cchange2() {
	cR = parseInt(document.fm.ar.value);
	cG = parseInt(document.fm.ag.value);
	cB = parseInt(document.fm.ab.value);
	document.fm.cr.value = cR / 255 * 100;
	document.fm.cg.value = cG / 255 * 100;
	document.fm.cb.value = cB / 255 * 100;
	cchange0();
}

function cchange0() {
	if ( cR > 15) {
		cR = cR.toString(16);
	} else {
		cR = "0" + cR.toString(16);
	}
	document.fm.tr.value = cR;
	if ( cG > 15) {
		cG = cG.toString(16);
	} else {
		cG = "0" + cG.toString(16);
	}
	document.fm.tg.value = cG;
	if ( cB > 15) {
		cB = cB.toString(16);
	} else {
		cB = "0" + cB.toString(16);
	}
	document.fm.tb.value = cB;
	cA = "#" + cR + cG + cB;
	ctx.fillStyle = cA;   // タイルの色
	ctx.fillRect(0,0,199,199);
}
</script>
</head>
<body onLoad="init( )">
<h2>Color Test</h2>
<form name="fm">
<table>
<tr><td>色</td><td>レベル</td>
<td>16進</td><td>10進(0～255)</td></tr>
<tr><td>R</td><td>
<input type="range" name="cr" value="0" onInput="cchange1()">
</td><td>
<input type="text" name="tr" size="3" readonly="readonly">
</td><td>
<input type="number" name="ar" size="3" min="0" max="255" onChange="cchange2()">
</td></tr><tr><td>G</td><td>
<input type="range" name="cg" value="0" onInput="cchange1()">
</td><td>
<input type="text" name="tg" size="3" readonly="readonly">
</td><td>
<input type="number" name="ag" size="3" min="0" max="255" onChange="cchange2()">
</td></tr>
<tr><td>B</td><td>
<input type="range" name="cb" value="0" onInput="cchange1()">
</td><td>
<input type="text" name="tb" size="3" readonly="readonly">
</td><td>
<input type="number" name="ab" size="3" min="0" max="255" onChange="cchange2()">
</td></tr>
</table>
</form>
<canvas id="c" style="position:relative; border:3px solid #999" width="200" height="200">
</canvas>
</body>
</html>
